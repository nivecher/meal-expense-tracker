[mypy]
python_version = 3.13
warn_return_any = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
no_implicit_optional = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True

# Ignore missing imports for third-party packages
ignore_missing_imports = True

# Disable specific error codes to reduce noise
disable_error_code =
    attr-defined,
    misc,
    no-any-unimported,
    no-any-return,
    no-untyped-def,
    type-var,
    valid-type,
    arg-type,
    call-arg,
    return-value,
    assignment,
    import,
    operator,
    import-untyped,
    unused-ignore

# Add custom type stubs
mypy_path = typings

# Exclude virtual environment and other non-source directories
exclude = '.git|\.mypy_cache|\.pytest_cache|\.venv|venv|node_modules|build|dist|__pycache__|terraform'

# Per-module options for third-party packages
[mypy-flask.*]
ignore_missing_imports = True

[mypy-flask_*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlalchemy_*]
ignore_missing_imports = True

# Testing frameworks
[mypy-pytest.*]
ignore_missing_imports = True

[mypy-_pytest.*]
ignore_missing_imports = True

# Web frameworks and utilities
[mypy-werkzeug.*]
ignore_missing_imports = True

[mypy-email_validator.*]
ignore_missing_imports = True

[mypy-awsgi.*]
ignore_missing_imports = True

# Database
[mypy-psycopg2.*]
ignore_missing_imports = True

# AWS
[mypy-boto3.*]
ignore_missing_imports = True

[mypy-botocore.*]
ignore_missing_imports = True

# Testing and development
[mypy-pytest_mock.*]
ignore_missing_imports = True

# Ignore test files
[mypy-tests.*]
ignore_errors = True

[mypy-scripts.*]
ignore_errors = True

# Ignore specific files
[mypy-migrate_db]
ignore_errors = True

[mypy-wsgi]
ignore_errors = True

# Application-specific configurations
[mypy-app.*.routes.*]
disallow_untyped_defs = False

[mypy-app.api.*.routes.*]
disallow_untyped_defs = False

[mypy-app.api.*.views.*]
disallow_untyped_defs = False

# Test files
[mypy-tests.*]
ignore_missing_imports = True
disallow_untyped_defs = False

# Migrations
[mypy-migrations.*]
ignore_missing_imports = True
disallow_untyped_defs = False

# Setup and configuration
[mypy-setup]
disallow_untyped_defs = False
ignore_errors = True

# Ignore type checking for test fixtures
[mypy-conftest]
disallow_untyped_defs = False

# Ignore missing stubs for config files
[mypy-config.*]
ignore_errors = True

# Ignore missing stubs for scripts
[mypy-scripts.*]
disallow_untyped_defs = False
ignore_missing_imports = True

# Ignore missing stubs for templates
[mypy-templates.*]
ignore_errors = True

# Ignore missing stubs for static files
[mypy-static.*]
ignore_errors = True

# Ignore missing stubs for Flask routes
[mypy-app.*.routes]
disallow_untyped_defs = False

# Ignore missing stubs for API routes
[mypy-app.api.*]
disallow_untyped_defs = False
