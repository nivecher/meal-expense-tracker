[mypy]
python_version = 3.13
warn_return_any = True
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = True
no_implicit_optional = True
ignore_missing_imports = True

# Add custom type stubs
mypy_path = typings

# Disable specific error codes to reduce noise
disable_error_code =
    attr-defined,
    misc,
    no-any-unimported,
    no-any-return,
    no-untyped-def,
    type-var,
    valid-type,
    arg-type,
    call-arg,
    return-value,
    assignment,
    import,
    operator

# Exclude virtual environment and other non-source directories
exclude = '.git|\.mypy_cache|\.pytest_cache|\.venv|venv|node_modules|build|dist|__pycache__|terraform'

# Per-module options for third-party packages
[mypy-flask.*]
ignore_missing_imports = True

[mypy-flask_login.*]
ignore_missing_imports = True

[mypy-flask_sqlalchemy.*]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-werkzeug.*]
ignore_missing_imports = True

[mypy-email_validator.*]
ignore_missing_imports = True

# Application-specific configurations
[mypy-app.*.routes.*]
disallow_untyped_defs = False

[mypy-app.api.*.routes.*]
disallow_untyped_defs = False

[mypy-app.api.*.views.*]
disallow_untyped_defs = False

# Test files
[mypy-tests.*]
ignore_missing_imports = True
disallow_untyped_defs = False

# Migrations
[mypy-migrations.*]
ignore_missing_imports = True
disallow_untyped_defs = False

# Setup and configuration
[mypy-setup]
disallow_untyped_defs = False
ignore_errors = True

# Ignore type checking for test fixtures
[mypy-conftest]
disallow_untyped_defs = False

# Ignore missing stubs for config files
[mypy-config.*]
ignore_errors = True

# Ignore missing stubs for scripts
[mypy-scripts.*]
disallow_untyped_defs = False
ignore_missing_imports = True

# Ignore missing stubs for templates
[mypy-templates.*]
ignore_errors = True

# Ignore missing stubs for static files
[mypy-static.*]
ignore_errors = True

# Ignore missing stubs for Flask routes
[mypy-app.*.routes]
disallow_untyped_defs = False

# Ignore missing stubs for API routes
[mypy-app.api.*]
disallow_untyped_defs = False
