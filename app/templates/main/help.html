{% extends "base.html" %} {% from 'macros/category_helpers.html' import category_badge, hex_to_rgb %} {% block title
%}Help - Meal Expense Tracker{% endblock title %} {% block head_extra %} {{ super() }}
<link href="{{ url_for('static', filename='css/components/category-badges.css') }}" rel="stylesheet" />
<style>
    .help-section {
        margin-bottom: 2rem;
    }

    .badge-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 0.75rem;
        margin: 1rem 0;
    }

    .feature-badge {
        display: flex;
        align-items: center;
        padding: 0.75rem;
        border-radius: 8px;
        border: 1px solid #e9ecef;
        background: white;
        text-decoration: none;
        color: inherit;
        transition: all 0.2s ease;
    }

    .feature-badge:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        text-decoration: none;
        color: inherit;
    }

    .feature-icon {
        font-size: 1.5rem;
        margin-right: 0.75rem;
        min-width: 30px;
    }

    .help-cuisine-badge,
    .meal-type-badge,
    .category-badge {
        display: inline-flex;
        align-items: center;
        padding: 0.5rem 0.75rem;
        margin: 0.25rem;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 500;
        color: white;
        text-decoration: none;
        transition: all 0.2s ease;
    }

    /* Cuisine badges using CSS custom properties */
    .help-cuisine-badge {
        background-color: rgba(var(--cuisine-color-rgb), 1);
        border: 2px solid rgba(var(--cuisine-color-rgb), 0.8);
        color: white;
    }

    .help-cuisine-badge:hover {
        background-color: rgba(var(--cuisine-color-rgb), 0.9);
        transform: scale(1.05);
        text-decoration: none;
        color: white;
    }

    .meal-type-badge:hover,
    .category-badge:hover {
        transform: scale(1.05);
        text-decoration: none;
        color: white;
    }

    .help-cuisine-badge i,
    .meal-type-badge i,
    .category-badge i {
        margin-right: 0.5rem;
        font-size: 1rem;
    }

    .accordion-button:not(.collapsed) {
        background-color: #f8f9fa;
        color: #0d6efd;
    }

    .step-number {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
        background: #0d6efd;
        color: white;
        border-radius: 50%;
        font-weight: bold;
        margin-right: 0.75rem;
        flex-shrink: 0;
    }

    .help-card {
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1rem;
        background: white;
    }

    .shortcut-key {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: monospace;
        font-size: 0.875rem;
    }

    .time-range {
        font-size: 0.75rem;
        opacity: 0.8;
        margin-left: 0.5rem;
    }

    .help-category-wrapper {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        margin: 0.25rem;
    }

    .category-description {
        font-size: 0.75rem;
        opacity: 0.8;
        margin-top: 0.25rem;
        margin-left: 0.5rem;
        color: #6c757d;
    }
</style>
{% endblock head_extra %} {% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="d-flex align-items-center mb-4">
                <i class="fas fa-question-circle text-primary me-3" style="font-size: 2rem"></i>
                <div>
                    <h1 class="mb-0">Help & User Guide</h1>
                    <p class="text-muted mb-0">Everything you need to know about using Meal Expense Tracker</p>
                </div>
            </div>

            <div class="help-card bg-light">
                <h5><i class="fas fa-star me-2"></i>Key Features</h5>
            </div>

            <!-- Quick Navigation -->
            <div class="help-card bg-light">
                <h5><i class="fas fa-compass me-2"></i>Quick Navigation</h5>
                <div class="row">
                    <div class="col-md-3">
                        <a href="#getting-started" class="feature-badge">
                            <i class="fas fa-rocket feature-icon text-success"></i>
                            <span>Getting Started</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#expenses" class="feature-badge">
                            <i class="fas fa-receipt feature-icon text-primary"></i>
                            <span>Expense Management</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#restaurants" class="feature-badge">
                            <i class="fas fa-utensils feature-icon text-warning"></i>
                            <span>Restaurant Management</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="#reference" class="feature-badge">
                            <i class="fas fa-book feature-icon text-info"></i>
                            <span>Reference Guide</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Accordion Sections -->
            <div class="accordion" id="helpAccordion">
                <!-- Getting Started Section -->
                <div class="accordion-item" id="getting-started">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseGettingStarted">
                            <i class="fas fa-rocket me-2"></i>Getting Started
                        </button>
                    </h2>
                    <div
                        id="collapseGettingStarted"
                        class="accordion-collapse collapse show"
                        data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-list-ol me-2"></i>First Steps</h6>
                                    <div class="d-flex align-items-start mb-3">
                                        <span class="step-number">1</span>
                                        <div>
                                            <strong>Add Your First Restaurant</strong>
                                            <p class="mb-1"
                                                >Use the Google Maps integration to find and add restaurants you
                                                visit.</p
                                            >
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-start mb-3">
                                        <span class="step-number">2</span>
                                        <div>
                                            <strong>Customize Categories</strong>
                                            <p class="mb-1"
                                                >Set up expense categories that match your spending habits.</p
                                            >
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-start mb-3">
                                        <span class="step-number">3</span>
                                        <div>
                                            <strong>Log Your First Expense</strong>
                                            <p class="mb-1">Start tracking by adding your first meal expense.</p>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-start mb-3">
                                        <span class="step-number">4</span>
                                        <div>
                                            <strong>Explore Analytics</strong>
                                            <p class="mb-1">Check your dashboard for spending insights and trends.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-lightbulb me-2"></i>Pro Tips</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><i class="fas fa-check text-success me-2"></i>Enable autocomplete for
                                            faster restaurant entry</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-check text-success me-2"></i>Use consistent categorization
                                            for better analytics</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-check text-success me-2"></i>Set up weekly data export as
                                            backup</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-check text-success me-2"></i>Review spending patterns
                                            monthly</li
                                        >
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Expense Management Section -->
                <div class="accordion-item" id="expenses">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseExpenses">
                            <i class="fas fa-receipt me-2"></i>Expense Management
                        </button>
                    </h2>
                    <div id="collapseExpenses" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-plus-circle me-2"></i>Adding Expenses</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><strong>Amount:</strong> Enter the total cost of your meal
                                            <div class="alert alert-info mt-2 mb-0 p-2">
                                                <small
                                                    ><i class="fas fa-lightbulb me-1"></i
                                                    ><strong>Amount Entry:</strong> Enter amounts in standard decimal
                                                    format (e.g., 7.89 for $7.89). The browser will handle number
                                                    formatting automatically.</small
                                                >
                                            </div>
                                        </li>
                                        <li class="mb-2"><strong>Restaurant:</strong> Select or add a restaurant</li>
                                        <li class="mb-2"><strong>Date & Time:</strong> When the expense occurred</li>
                                        <li class="mb-2"><strong>Meal Type:</strong> Choose from 9 available types</li>
                                        <li class="mb-2"><strong>Category:</strong> Organize by expense type</li>
                                        <li class="mb-2"
                                            ><strong>Tags:</strong> Add custom labels for better organization</li
                                        >
                                        <li class="mb-2"><strong>Notes:</strong> Add any additional details</li>
                                        <li class="mb-2"
                                            ><strong>Receipt:</strong> Upload a photo of your receipt (optional)
                                            <div class="alert alert-success mt-2 mb-0 p-2">
                                                <small
                                                    ><i class="fas fa-image me-1"></i
                                                    ><strong>Supported Formats:</strong> JPG, PNG, GIF. Max size: 5MB.
                                                    Receipts are securely stored and can be viewed or deleted at any
                                                    time.</small
                                                >
                                            </div>
                                        </li>
                                    </ul>

                                    <h6><i class="fas fa-filter me-2"></i>Filtering & Sorting</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><i class="fas fa-search me-1"></i>Search bar filters as you type</li
                                        >
                                        <li class="mb-2"><i class="fas fa-calendar me-1"></i>Filter by date range</li>
                                        <li class="mb-2"><i class="fas fa-utensils me-1"></i>Filter by restaurant</li>
                                        <li class="mb-2"
                                            ><i class="fas fa-tags me-1"></i>Filter by category, meal type, or tags</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-sort me-1"></i>Sort by date, amount, or restaurant</li
                                        >
                                    </ul>
                                    <h6><i class="fas fa-calendar-alt me-2"></i>Views</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><strong>Expenses:</strong> Card or table view grouped by month. Table shows
                                            Date/Tags, Restaurant (with cuisine and service level), Meal, Order, Party
                                            Size, $/person, and Amount with a compact layout. Select rows via
                                            checkboxes; header checkbox shows a dash when some rows are selected.</li
                                        >
                                        <li class="mb-2"
                                            ><strong>Calendar:</strong> Monthly grid showing expenses by date. Use
                                            prev/next to navigate months; click "Today" to jump to current month. Today
                                            is highlighted, and days show totals plus expense entries with restaurant
                                            favicons and meal icons. Hover for details. A filter summary and legend
                                            appear above the grid. Switch between Month/Week/Day views to see
                                            time-of-day details when zoomed in. Select a day to set the "Add expense"
                                            button near the legend to that date. Respects all active filters.</li
                                        >
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-download me-2"></i>Import & Export</h6>
                                    <div class="alert alert-info">
                                        <strong>CSV Export:</strong> Download your expenses for backup or analysis in
                                        spreadsheet software.
                                    </div>
                                    <div class="alert alert-success">
                                        <strong>CSV/JSON Import:</strong> Bulk import expenses from spreadsheets or
                                        other expense tracking apps. Supports both CSV and JSON file formats, including
                                        tag names via the <code>tags</code> column. Exports include restore-friendly
                                        fields like <code>datetime_utc</code>, <code>order_type</code>, and
                                        <code>party_size</code>. For best results, import in batches (up to 2,000 rows
                                        per upload) to avoid request timeouts.
                                    </div>

                                    <h6><i class="fas fa-keyboard me-2"></i>Keyboard Shortcuts</h6>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Add new expense</span>
                                        <kbd class="shortcut-key">Ctrl + N</kbd>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Search expenses</span>
                                        <kbd class="shortcut-key">Ctrl + F</kbd>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Export to CSV</span>
                                        <kbd class="shortcut-key">Ctrl + E</kbd>
                                    </div>

                                    <h6><i class="fas fa-save me-2 mt-3"></i>Form Data</h6>
                                    <div class="alert alert-info">
                                        <strong>Current:</strong> Your expense form data is preserved during your
                                        session. Form data will be reset when you navigate away from the page.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Restaurant Management Section -->
                <div class="accordion-item" id="restaurants">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseRestaurants">
                            <i class="fas fa-utensils me-2"></i>Restaurant Management
                        </button>
                    </h2>
                    <div id="collapseRestaurants" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-map-marker-alt me-2"></i>Google Maps Integration</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><i class="fas fa-search me-1"></i>Comprehensive food business search
                                            (restaurants, cafes, drink shops, food trucks, etc.)</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-map me-1"></i>Automatic address population</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-info-circle me-1"></i>Restaurant details from Google
                                            Places</li
                                        >
                                        <li class="mb-2"
                                            ><i class="fas fa-star me-1"></i>Basic ratings from Google Places</li
                                        >
                                    </ul>
                                    <div class="alert alert-warning mt-3">
                                        <h6 class="alert-heading mb-2">
                                            <i class="fas fa-info-circle me-2"></i>Google Places API Essentials Tier
                                        </h6>
                                        <p class="mb-1 small">
                                            This application uses Google Places API Essentials tier to control costs.
                                            Some advanced features are not available:
                                        </p>
                                        <ul class="mb-0 small">
                                            <li><strong>No restaurant photos</strong> - Photo display is disabled</li>
                                            <li><strong>No detailed reviews</strong> - Only basic ratings are shown</li>
                                            <li
                                                ><strong>Limited amenities</strong> - Only basic service options
                                                (takeout, delivery, etc.)</li
                                            >
                                            <li
                                                ><strong>No advanced features</strong> - Payment options, parking info,
                                                and other Pro+ features are not available</li
                                            >
                                        </ul>
                                        <p class="mb-0 mt-2 small">
                                            <strong>Address &amp; cuisine:</strong> Addresses are filled from Google's
                                            structured address components (street, city, state, postal code) for
                                            accuracy. Cuisine and service level are inferred from the place name and
                                            type when you add a restaurant from Google Places; you can edit them in the
                                            form.
                                        </p>
                                    </div>

                                    <h6><i class="fas fa-edit me-2"></i>Managing Restaurants</h6>
                                    <ul class="list-unstyled">
                                        <li class="mb-2"
                                            ><strong>Add:</strong> Search Google Places for any food business or add
                                            manually</li
                                        >
                                        <li class="mb-2"><strong>Edit:</strong> Update name, cuisine, or address</li>
                                        <li class="mb-2"
                                            ><strong>Organize:</strong> Assign cuisine types for better
                                            categorization</li
                                        >
                                        <li class="mb-2"
                                            ><strong>Track:</strong> See visit history and spending totals</li
                                        >
                                    </ul>

                                    <h6><i class="fas fa-check-circle me-2"></i>Google Places Validation</h6>
                                    <div class="alert alert-info">
                                        <strong>Data Validation:</strong> Compare your restaurant information with
                                        Google Places data to ensure accuracy. Validate and fix mismatches in:
                                        <ul class="mb-0 mt-2">
                                            <li
                                                ><strong>Name & Address:</strong> Ensure correct location
                                                information</li
                                            >
                                            <li
                                                ><strong>Type:</strong> Verify business type (restaurant, cafe, bar,
                                                etc.)</li
                                            >
                                            <li><strong>Cuisine:</strong> Confirm cuisine classification</li>
                                            <li><strong>Phone & Website:</strong> Keep contact information current</li>
                                            <li><strong>Price Level:</strong> Validate pricing tier information</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-chart-line me-2"></i>Restaurant Analytics</h6>
                                    <div class="alert alert-primary">
                                        <strong>Visit Tracking:</strong> See how often you visit each restaurant and
                                        total spending.
                                    </div>
                                    <div class="alert alert-success">
                                        <strong>Favorites:</strong> Identify your most visited restaurants and top
                                        spending locations.
                                    </div>

                                    <h6><i class="fas fa-download me-2"></i>Import & Export</h6>
                                    <div class="alert alert-info">
                                        <strong>CSV Export:</strong> Download your restaurant database for backup or
                                        sharing.
                                    </div>
                                    <div class="alert alert-success">
                                        <strong>CSV/JSON Import:</strong> Bulk import restaurants from spreadsheets with
                                        flexible column mapping and validation. Supports both CSV and JSON file formats.
                                    </div>
                                    <h6><i class="fas fa-gift me-2"></i>Rewards Programs</h6>
                                    <div class="alert alert-info">
                                        <strong>Coming soon:</strong> Track loyalty memberships and rewards details for
                                        each restaurant.
                                    </div>

                                    <h6><i class="fas fa-palette me-2"></i>Cuisine Color Coding</h6>
                                    <p class="text-muted"
                                        >Restaurants are visually organized by cuisine type with unique colors and icons
                                        for easy identification.</p
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reference Guide Section -->
                <div class="accordion-item" id="reference">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseReference">
                            <i class="fas fa-book me-2"></i>Reference Guide
                        </button>
                    </h2>
                    <div id="collapseReference" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <!-- Meal Types -->
                            <div class="help-section">
                                <h5><i class="fas fa-clock me-2"></i>Meal Types ({{ meal_types|length }} Available)</h5>
                                <p class="text-muted"
                                    >Choose from these meal types to categorize your expenses by time of day:</p
                                >
                                <div class="badge-grid">
                                    {% for meal_type in meal_types %}
                                    <div class="meal-type-badge {{ meal_type.name|meal_type_css_class }}">
                                        <i class="fas fa-{{ meal_type.icon }}"></i>
                                        <div>
                                            <strong>{{ meal_type.name|title }}</strong>
                                            <div class="time-range">{{ meal_type.time_range }}</div>
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>

                            <!-- Cuisines -->
                            <div class="help-section">
                                <h5
                                    ><i class="fas fa-globe me-2"></i>Cuisine Types ({{ cuisines|length }}
                                    Available)</h5
                                >
                                <p class="text-muted"
                                    >Organize restaurants by cuisine type with distinctive colors and icons:</p
                                >
                                <div class="badge-grid">
                                    {% for cuisine in cuisines %}
                                    <span
                                        class="help-cuisine-badge"
                                        style="--cuisine-color-rgb: {{ hex_to_rgb(cuisine.color) }};">
                                        <i class="fas fa-{{ cuisine.icon }}"></i>
                                        <span>{{ cuisine.name }}</span>
                                    </span>
                                    {% endfor %}
                                </div>
                            </div>

                            <!-- Restaurant Types -->
                            <div class="help-section">
                                <h5><i class="fas fa-utensils me-2"></i>Restaurant Types (29 Available)</h5>
                                <p class="text-muted"
                                    >Categorize restaurants by their primary business type for better organization:</p
                                >
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul class="list-unstyled">
                                            <li class="mb-2"
                                                ><strong>üçΩÔ∏è Restaurant:</strong> General dining establishments</li
                                            >
                                            <li class="mb-2"
                                                ><strong>‚òï Cafe:</strong> Coffee shops and casual cafes</li
                                            >
                                            <li class="mb-2"><strong>üç∫ Bar:</strong> Bars and pubs serving alcohol</li>
                                            <li class="mb-2"><strong>ü•ñ Bakery:</strong> Bakeries and pastry shops</li>
                                            <li class="mb-2"
                                                ><strong>üç∞ Dessert Shop:</strong> Specialty dessert and sweet shops</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üç® Ice Cream Shop:</strong> Ice cream and frozen dessert
                                                shops</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•™ Deli:</strong> Delicatessens and sandwich shops</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üè™ Food Court:</strong> Mall food courts and food halls</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•° Takeaway:</strong> Takeout and pickup-only
                                                establishments</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üöö Delivery Service:</strong> Food delivery services</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üçî Fast Food Restaurant:</strong> Quick-service fast food
                                                chains</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•© Fine Dining Restaurant:</strong> Upscale dining
                                                establishments</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•© Steak House:</strong> Steak and grill restaurants</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü¶û Seafood Restaurant:</strong> Seafood and fish
                                                restaurants</li
                                            >
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul class="list-unstyled">
                                            <li class="mb-2"
                                                ><strong>üçï Pizza Restaurant:</strong> Pizza-focused restaurants</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üç£ Sushi Restaurant:</strong> Sushi and Japanese
                                                restaurants</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•û Breakfast Restaurant:</strong> Breakfast and brunch
                                                spots</li
                                            >
                                            <li class="mb-2"
                                                ><strong>‚òï Coffee Shop:</strong> Specialty coffee shops</li
                                            >
                                            <li class="mb-2"
                                                ><strong>ü•ñ Sandwich Shop:</strong> Sandwich and sub shops</li
                                            >
                                            <li class="mb-2"><strong>üç© Donut Shop:</strong> Donut and pastry shops</li>
                                            <li class="mb-2"
                                                ><strong>ü•§ Juice Shop:</strong> Juice and smoothie bars</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üç∑ Wine Bar:</strong> Wine bars and wine-focused venues</li
                                            >
                                            <li class="mb-2"><strong>üçª Pub:</strong> Traditional pubs and taverns</li>
                                            <li class="mb-2"
                                                ><strong>‚òï Tea House:</strong> Tea houses and tea rooms</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üè™ Convenience Store:</strong> Convenience stores and corner
                                                shops</li
                                            >
                                            <li class="mb-2"
                                                ><strong>üõí Grocery Store:</strong> Grocery stores and supermarkets</li
                                            >
                                            <li class="mb-2"
                                                ><strong>‚õΩ Gas Station:</strong> Gas stations with food service</li
                                            >
                                            <li class="mb-2"
                                                ><strong>‚ùì Other:</strong> Other food service establishments</li
                                            >
                                        </ul>
                                    </div>
                                </div>
                                <div class="alert alert-primary mt-3">
                                    <strong>Auto-detection:</strong> Restaurant types are automatically detected from
                                    Google Places data when searching for restaurants. Non-restaurant food
                                    establishments (like convenience stores) are automatically categorized as "Other" to
                                    maintain focus on dining experiences. You can also manually select the appropriate
                                    type when adding restaurants.
                                </div>
                            </div>

                            <!-- Categories -->
                            <div class="help-section">
                                <h5
                                    ><i class="fas fa-tags me-2"></i>Default Categories ({{ categories|length }}
                                    Available)</h5
                                >
                                <p class="text-muted">Standard expense categories to help organize your spending:</p>
                                <div class="badge-grid">
                                    {% for category in categories %}
                                    <div class="help-category-wrapper">
                                        {{ category_badge(category) }}
                                        <div class="category-description">{{ category.description }}</div>
                                    </div>
                                    {% endfor %}
                                </div>
                                <div class="alert alert-info mt-3">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Pro Tip:</strong> You can create custom categories to match your specific
                                    spending patterns and lifestyle.
                                </div>
                            </div>

                            <!-- Custom Tags -->
                            <div class="help-section">
                                <h5><i class="fas fa-tag me-2"></i>Custom Tags</h5>
                                <p class="text-muted">Create custom labels to organize expenses beyond categories:</p>

                                <div class="row">
                                    <div class="col-md-6">
                                        <h6><i class="fas fa-star me-2"></i>Key Features</h6>
                                        <ul class="list-unstyled">
                                            <li><i class="fas fa-check text-success me-2"></i>Dynamic tag creation</li>
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Jira-style naming
                                                (auto-normalized)</li
                                            >
                                            <li><i class="fas fa-check text-success me-2"></i>Color-coded badges</li>
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Auto-complete
                                                suggestions</li
                                            >
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Multiple tags per
                                                expense</li
                                            >
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6><i class="fas fa-keyboard me-2"></i>Usage</h6>
                                        <ul class="list-unstyled">
                                            <li
                                                ><i class="fas fa-arrow-right text-primary me-2"></i>Type tag name and
                                                press Enter</li
                                            >
                                            <li
                                                ><i class="fas fa-arrow-right text-primary me-2"></i>Use arrow keys to
                                                navigate suggestions</li
                                            >
                                            <li
                                                ><i class="fas fa-arrow-right text-primary me-2"></i>Click √ó to remove
                                                tags</li
                                            >
                                            <li
                                                ><i class="fas fa-arrow-right text-primary me-2"></i>Tags are
                                                user-specific</li
                                            >
                                        </ul>
                                    </div>
                                </div>

                                <div class="alert alert-warning mt-3">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong>Note:</strong> Tag names are automatically converted to lowercase with
                                    hyphens (e.g., "Business Lunch" becomes "business-lunch")
                                </div>

                                <h6 class="mt-3"><i class="fas fa-chart-pie me-2"></i>Tags Tab on Expenses</h6>
                                <p class="text-muted mb-2">
                                    On the <strong>Expenses</strong> page, open the <strong>Tags</strong> tab to manage
                                    all your tags and view tag reports (same UI as the Manage Tags modal on the expense
                                    form and profile). The URL <code>/expenses/tags</code> redirects to the Expenses
                                    page with the Tags tab active.
                                </p>
                                <ul class="list-unstyled small">
                                    <li><i class="fas fa-dollar-sign me-2 text-muted"></i>Top by spend</li>
                                    <li><i class="fas fa-chart-bar me-2 text-muted"></i>Most used</li>
                                    <li><i class="fas fa-clock me-2 text-muted"></i>Recently used</li>
                                    <li><i class="fas fa-tag me-2 text-muted"></i>Unused tags</li>
                                </ul>
                                <p class="text-muted small mb-0">
                                    From the filter modal, <strong>Manage Tags</strong> links to the Tags tab so you can
                                    create, edit, and delete tags; reports update as you change tags.
                                </p>
                            </div>

                            <!-- Features Overview -->
                            <div class="help-section">
                                <h5><i class="fas fa-star me-2"></i>Key Features</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <h6 class="text-primary">Data Management</h6>
                                        <ul class="list-unstyled">
                                            <li><i class="fas fa-check text-success me-2"></i>CSV import/export</li>
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Exports include tag names
                                                for each expense</li
                                            >
                                            <li><i class="fas fa-check text-success me-2"></i>Advanced filtering</li>
                                            <li><i class="fas fa-check text-success me-2"></i>Search functionality</li>
                                            <li><i class="fas fa-check text-success me-2"></i>Data validation</li>
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Standard decimal amount
                                                entry (7.89 ‚Üí $7.89)</li
                                            >
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <h6 class="text-primary">Analytics & Insights</h6>
                                        <ul class="list-unstyled">
                                            <li><i class="fas fa-check text-success me-2"></i>Spending dashboard</li>
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Visual charts and
                                                graphs</li
                                            >
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Category and meal type
                                                breakdowns</li
                                            >
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Monthly trend
                                                analysis</li
                                            >
                                            <li
                                                ><i class="fas fa-check text-success me-2"></i>Top restaurants and
                                                categories</li
                                            >
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Future Features Section -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseFutureFeatures">
                            <i class="fas fa-rocket me-2"></i>Future Features
                        </button>
                    </h2>
                    <div
                        id="collapseFutureFeatures"
                        class="accordion-collapse collapse"
                        data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><i class="fas fa-camera me-2"></i>Advanced Receipt Features</h6>
                                    <div class="alert alert-info">
                                        <strong>Coming Soon:</strong> Enhanced receipt processing capabilities.
                                        <ul class="mb-0 mt-2">
                                            <li>Automatic receipt verification</li>
                                            <li>OCR text extraction for automatic expense entry</li>
                                            <li>Receipt data parsing (amount, date, restaurant)</li>
                                        </ul>
                                        <div class="mt-2">
                                            <small
                                                ><i class="fas fa-check-circle me-1"></i
                                                ><strong>Available Now:</strong> Upload receipts in JPG, PNG, GIF, and
                                                PDF formats.</small
                                            >
                                        </div>
                                    </div>

                                    <h6><i class="fas fa-chart-line me-2"></i>Enhanced Analytics</h6>
                                    <div class="alert alert-info">
                                        <strong>Available Now:</strong> Analytics dashboard with interactive charts,
                                        category breakdowns, and trend analysis.
                                        <ul class="mb-0 mt-2">
                                            <li>‚úÖ Interactive charts and graphs</li>
                                            <li>‚úÖ Monthly trend analysis</li>
                                            <li>‚úÖ Category and meal type breakdowns</li>
                                        </ul>
                                        <strong class="mt-2 d-block">Coming Soon:</strong>
                                        <ul class="mb-0 mt-2">
                                            <li>Budget tracking and alerts</li>
                                            <li>PDF report generation</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6><i class="fas fa-mobile-alt me-2"></i>Mobile App</h6>
                                    <div class="alert alert-info">
                                        <strong>Planned:</strong> Native mobile applications for iOS and Android.
                                        <ul class="mb-0 mt-2">
                                            <li>Offline expense entry</li>
                                            <li>Camera integration for receipts</li>
                                            <li>Push notifications</li>
                                            <li>Touch-optimized interface</li>
                                        </ul>
                                    </div>

                                    <h6><i class="fas fa-sync me-2"></i>Data Management</h6>
                                    <div class="alert alert-info">
                                        <strong>Current:</strong> Expense form data is preserved during your session.
                                        <ul class="mb-0 mt-2">
                                            <li>‚úÖ Form data preserved during session</li>
                                        </ul>
                                        <strong class="mt-2 d-block">Coming Soon:</strong>
                                        <ul class="mb-0 mt-2">
                                            <li>Real-time data synchronization</li>
                                            <li>Automatic data backup</li>
                                            <li>Conflict resolution</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Section -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseFAQ">
                            <i class="fas fa-question-circle me-2"></i>Frequently Asked Questions
                        </button>
                    </h2>
                    <div id="collapseFAQ" class="accordion-collapse collapse" data-bs-parent="#helpAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Q: How do I import expenses from another app?</h6>
                                    <p
                                        >Use the CSV or JSON import feature. Export your data from the other app, then
                                        format it to match our template and import. Both CSV and JSON formats are
                                        supported. If you have a large dataset, split it into smaller files (up to 2,000
                                        rows per import) to avoid timeouts.</p
                                    >

                                    <h6>Q: Can I edit or delete expenses?</h6>
                                    <p
                                        >Yes! Click on any expense to view details, then use the Edit or Delete buttons
                                        to make changes.</p
                                    >

                                    <h6>Q: How accurate is the Google Maps integration?</h6>
                                    <p
                                        >We use Google Places API to provide real restaurant data. Addresses are parsed
                                        from structured address components for accuracy. Cuisine and service level are
                                        auto-detected from the place name and type; you can correct them when adding or
                                        editing a restaurant.</p
                                    >

                                    <h6>Q: How do custom tags work?</h6>
                                    <p
                                        >Tags are custom labels you can add to expenses for better organization. They're
                                        automatically created as you type and follow Jira-style naming conventions. Each
                                        tag gets a unique color and can be used for filtering and searching.</p
                                    >
                                </div>
                                <div class="col-md-6">
                                    <h6>Q: Can I customize categories and meal types?</h6>
                                    <p
                                        >Categories can be customized. Meal types are standardized for consistency, but
                                        you can use the notes field for additional details.</p
                                    >

                                    <h6>Q: How is my data protected?</h6>
                                    <p
                                        >We use secure session-based authentication, rate limiting, and follow security
                                        best practices to protect your data.</p
                                    >

                                    <h6>Q: Can I access this on mobile?</h6>
                                    <p
                                        >Yes! The interface is fully responsive and works great on mobile devices and
                                        tablets.</p
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer Help -->
            <div class="help-card bg-light mt-4">
                <div class="text-center">
                    <h5><i class="fas fa-heart text-danger me-2"></i>Need More Help?</h5>
                    <p class="mb-3"
                        >This guide covers the main features. For additional assistance or feature requests:</p
                    >
                    <div class="d-flex justify-content-center gap-3">
                        <a href="{{ url_for('main.contact') }}" class="btn btn-primary">
                            <i class="fas fa-envelope me-2"></i>Contact Support
                        </a>
                        <a href="{{ url_for('main.about') }}" class="btn btn-outline-primary">
                            <i class="fas fa-info-circle me-2"></i>About the App
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Help page functionality -->
<script src="{{ url_for('static', filename='js/pages/help.js') }}"></script>

{% endblock content %}
