{# Category helper macros #} {# Following TIGER principles: Safety, Performance, Developer Experience #} {# Macro to
convert hex color to RGB values for CSS custom properties #} {% macro hex_to_rgb(hex_color) %} {%- if hex_color and
hex_color.startswith('#') and hex_color|length == 7 -%} {%- set r = hex_color[1:3]|int(base=16) -%} {%- set g =
hex_color[3:5]|int(base=16) -%} {%- set b = hex_color[5:7]|int(base=16) -%} {{- r }}, {{ g }}, {{ b -}} {%- else -%}
108, 117, 125 {%- endif -%} {% endmacro %} {# Macro to render a category badge with proper styling #} {% macro
category_badge(category, compact=false) %} {%- if category -%}
<span
    class="category-badge {% if compact %}compact{% endif %}"
    {%
    if
    category.color
    %}style="--category-color-rgb: {{ hex_to_rgb(category.color) }}"
    {%
    endif
    %}>
    {%- if category.icon -%}
    <i class="fas fa-{{ category.icon }}"></i>
    {%- endif -%} {{ category.name }}
</span>
{%- else -%}
<span class="text-muted">-</span>
{%- endif -%} {% endmacro %}
