<!doctype html>
<html lang="en" data-bs-theme="auto">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="Meal Expense Tracker - Track and manage your dining expenses" />
        <meta name="keywords" content="meal expense tracker, food budget, dining expenses, expense management" />
        <meta name="author" content="Meal Expense Tracker" />
        <meta name="csrf-token" content="{{ csrf_token() }}" />
        <title> {% block title %} {% endblock title %} - Meal Expense Tracker</title>
        <!-- Favicons -->
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="{{ url_for('static', filename='img/favicons/apple-touch-icon.png') }}" />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="{{ url_for('static', filename='img/favicons/favicon-32x32.png') }}" />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="{{ url_for('static', filename='img/favicons/favicon-16x16.png') }}" />
        <link rel="manifest" href="{{ url_for('static', filename='img/favicons/site.webmanifest') }}" />
        <link
            rel="mask-icon"
            href="{{ url_for('static', filename='img/favicons/safari-pinned-tab.svg') }}"
            color="#5bbad5" />
        <meta name="msapplication-TileColor" content="#da532c" />
        <!-- Theme color removed - causing compatibility warnings -->
        <!-- Additional theme-color for older browsers -->
        <meta name="msapplication-navbutton-color" content="#2c3e50" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <!-- Centralized Dependencies -->
        {% include 'includes/dependencies.html' %}
        <!-- Custom CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
        {% block styles %} {% endblock styles %}
    </head>
    <body class="d-flex flex-column min-vh-100">
        <main class="flex-grow-1">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %} {% if messages %}
            <div class="flash-messages mb-0">
                {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    <div class="alert-message">{{ message }}</div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
            </div>
            {% endif %} {% endwith %} {% block content %} {% endblock content %}
        </main>
        <footer class="footer mt-auto py-3 bg-light">
            <div class="container text-center">
                <span class="text-muted">Â© {{ now.year }} Meal Expense Tracker. All rights reserved.</span>
            </div>
        </footer>
        <!-- Custom JS -->
        <script src="{{ url_for('static', filename='js/main.js') }}" type="module"></script>
        <!-- Auth form handler -->
        <script src="{{ url_for('static', filename='js/pages/auth-forms.js') }}"></script>
        {% block scripts %} {% endblock scripts %}
    </body>
</html>
